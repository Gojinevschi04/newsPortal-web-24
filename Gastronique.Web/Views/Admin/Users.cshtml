@{
     Layout = "~/Views/Shared/_Layout.cshtml";
     ViewBag.Title = "Users";
}

@model System.Collections.Generic.List<Gastronique.Web.Models.UserData>

<div class="container-fluid">

     <!-- Page Heading -->
     <h1 class="h3 mb-2 text-gray-800">Users</h1>

     <!-- DataTales Example -->
     <div class="card shadow mb-4">
          <div class="card-header py-3">
               <h6 class="m-0 font-weight-bold text-primary">DataTables</h6>
          </div>
          <div class="card-body">
               <div class="table-responsive">
                    <table class="table table-bordered" id="dataTable">
                         <thead>
                              <tr>
                                   <th>ID</th>
                                   <th>First Name</th>
                                   <th>Last Name</th>
                                   <th>Username</th>
                                   <th>Email</th>
                                   <th>Role</th>
                                   <th></th>
                                   <th></th>

                              </tr>
                         </thead>

                         <tbody>
                              @foreach (var user in Model)
                              {
                                   <tr>

                                        <td>@user.Id</td>
                                        <td>@user.FirstName</td>
                                        <td>@user.LastName</td>
                                        <td>@user.Username</td>
                                        <td>@user.Email</td>
                                        <td>@user.Level</td>
                                        <td>
                                             <a href="@Url.Action("EditUser", "Admin", new { userId = user.Id })" class="btn btn-primary btn-user btn-block">Edit</a>
                                        </td>

                                        <td>
                                             <form method="post" action="@Url.Action("DeleteUser", "Admin", new { userId = user.Id })" onsubmit="return confirm('Are you sure you want to delete this user?');">
                                                  <button type="submit" class="btn btn-primary btn-user btn-danger">Delete</button>
                                             </form>
                                        </td>
                                   </tr>
                              }

                         </tbody>
                    </table>
               </div>
          </div>
     </div>

</div>