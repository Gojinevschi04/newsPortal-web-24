@{
     Layout = "~/Views/Shared/_Layout.cshtml";
     ViewBag.Title = "Edit Post";
}


@model NewsPortal.Web.Models.PostEditData

@using (Html.BeginForm("EditPost", "Reporter", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
     <div class="card o-hidden border-0 shadow-lg my-5">
          <div class="card-body p-0">
               <div class="row">
                    <div class="col-lg-7 mx-auto">
                         <div class="p-5">

                              <div class="text-center">
                                   <h1 class="h4 text-gray-900 mb-4">Edit post</h1>
                              </div>
                              <br>

                              <form class="title">
                                   <div class="form-group">
                                        @Html.LabelFor(a => a.Title)
                                        @Html.TextBoxFor(a => a.Title, new { @class = "form-control", placeholder = "Title" })
                                        @Html.ValidationMessageFor(a => a.Title)

                                        <br>

                                        <div class="form-group">
                                             @Html.LabelFor(a => a.Category)
                                             @Html.DropDownListFor(a => a.Category, new SelectList(new[]
                                             {
                                                 "Politics", "Economy", "Science", "Health", "Education", "Culture", "Sports"
                                             }), "Select a category", new { @class = "form-control" })
                                             @Html.ValidationMessageFor(a => a.Category)
                                        </div>


                                        <div class="form-group">
                                             @Html.LabelFor(a => a.Content)
                                             @Html.TextBoxFor(a => a.Content, new { @class = "form-control", placeholder = "Content" })
                                             @Html.ValidationMessageFor(a => a.Content)
                                        </div>


                                        @if (Model.ImagePath != null)
                                        {
                                             <div class="form-group">
                                                  <label for="currentImage">Current Image:</label><br>
                                                  <img src="@Url.Content(Model.ImagePath)" style="max-width: 200px; max-height: 200px;" alt="Current Image">
                                             </div>
                                        }

                                        <!-- Încărcare imagine nouă -->
                                        <div class="form-group">
                                             <label for="newImage">Upload New Image:</label><br>
                                             <input type="file" name="ImageFile" id="ImageFile" accept="image/*">
                                        </div>

                                   </div>

                                   <hr>

                                   <button class="btn btn-primary btn-user btn-block" type="submit">
                                        Confirm and Save
                                   </button>

                                   @Html.HiddenFor(a => a.Id)
                                   @Html.HiddenFor(a => a.DateAdded)
                                   @Html.HiddenFor(a => a.Author)
                                   @Html.HiddenFor(a => a.AuthorId)
                              </form>


                         </div>
                    </div>
               </div>
          </div>
     </div>
}